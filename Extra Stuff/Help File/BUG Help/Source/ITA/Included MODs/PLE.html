<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>


  
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252">

  


  
  <title>Plot List Enhancement</title>
  <meta name="GENERATOR" content="OpenOffice.org 2.3 (Win32)">


  
  <meta name="CREATED" content="0;0">


  
  <meta name="CHANGEDBY" content="Jason Cole">


  
  <meta name="CHANGED" content="20080106;594625">


  
  <style type="text/css">
<!--
P.style8 { color: #0000ff; font-size: 14pt; font-style: italic; font-weight: bold }
-->
  </style>
</head>


<body style="direction: ltr;" lang="en-US">




<p>&nbsp;<font color="#0000ff"><font style="font-size: 16pt;" size="4"><i><b>Plot
List Enhancements </b></i></font><font size="3"><i><b>by
12Monkeys </b></i></font></font> (Ported to
BUG by <font color="#0000ff"><font size="3"><i><b>turlute.</b></i></font></font>
Heavily modified by <font color="#0000ff"><font size="3"><i><b>EmperorFool</b></i></font></font>)</p>




<p class="style8">&nbsp;About Plot List Enhancement
</p>


<p align="justify">The motivation for this mod was born
when I tried to fiddle a unit stack with a large number of units. It
was a frustrating experience, due to the strange behavior of the plot
list and some bothering bugs in Civ4. So I started to create this mod
here. It is a more or less complete reprogrammed plot list with a bunch
of new features. Not all of the features may be used at one time, but I
think everybody will find something hes looking for. It is based on the
previous version of the Plot List Enhancement although is has been
reworked completely. There is not much left except some graphics.<span class="style8"> </span></p>




<p class="style8">Features</p>


<p>1.) Enhanced Unit Buttons</p>


<p>2.) Unit Mouseover Changes</p>


<p>3.) Unit/group selection in the plot list</p>


<p>4.) Plot list display modes</p>


<p>5.) Unit filters </p>


<p>6.) Plot list grouping modes</p>


<p>7.) Plot list upgrade View</p>


<p>8.) Plot list promotion View</p>


<p>9.) Move highlighter</p>


<p>10.) Configuration</p>


<p>1.) <span style="font-weight: bold;">Enhanced Unit Buttons</span></p>


<p>Each unit button provides you now with some additional
information. This makes it easier to determine what status a single
unit has, without selecting it first. </p>


<p>Following information is implemented : </p>


<ol type="A">


  <li><span style="font-weight: bold;">Health +
Movement Indicator<br>


    </span>The colored spot changes depending on how many
movement points are left:</li>


  
  <ul>


    <li>Green = All</li>


    <li>Yellow = Some</li>


    <li>Red = None</li>


    <li>Grey = All (skipping turn)</li>


  
  </ul>


</ol>


<div style="margin-left: 40px;">The spot is displayed in a
darker color, when the unit is wounded.<br>
Also, if the unit is led by a Great General, the dot becomes a star. </div>


<ol start="2" style="list-style-type: upper-alpha;">


  <li><span style="font-weight: bold;">Health Bar<br>


    </span>At the top of each unit button, a horizontal bar is
displayed. This bar indicates the remaining health points of the unit
in percent. The colors of the bar can be changed. The default colors
are green and red. </li>


  <li><span style="font-weight: bold;"> Movement Bar</span><br>


At the top of each unit button, below the health bar,
another&nbsp;bar is displayed. This indicates the remaining
movement points of the unit in percent. The colors of the bar can be
changed. The default colors are blue and grey. </li>


  <li><span style="font-weight: bold;">Mission
Indicator</span><br>


In the lower right corner, the unit's mission is displayed with an
icon. They are split into groups using their background: green for
automation, yellow for defensive, red for offensive, light blue for
movement and white for stationary actions. The following mission types
are indicated (the background color is indicated in brackets) :
    
    <ul>


      <li>Blue shield (yellow) - unit is fortified </li>


      <li>Plane (yellow) - air unit is in intercept mode</li>


      <li>Binoculars (yellow) - unit is in sentry mode</li>


      <li>Anchor (yellow) - sea unit is in patrol mode</li>


      <li>Gold symbol (red) - sea unit is in blockade mode</li>


      <li>Foot (light blue) - unit has a goto command </li>


      <li>Compass (light blue) - unit is exploring </li>


      <li>Red cross (white) - unit is in healing mode</li>


      <li>Hourglass (white) - unit is skipping current turn</li>


      <li>Z's (white) - unit is in sleep mode</li>


      <li>Hammer (green) - worker is automated </li>


      <li>City skyline (green) - worker is automated (city) </li>


      <li>Trade symbol (green) - worker is automated (trade
network) </li>


    
    </ul>


  </li>


  <li><span style="font-weight: bold;">Promotion
Indicator</span><br>


A unit which can be promoted is displayed with a light blue frame in
the plot list.</li>


  <li><span style="font-weight: bold;">Upgrade
Indicator<br>


    </span>A unit which can be upgraded to any other unit, will
get a small orange up-arrow in the lower left corner of its unit
button. The arrow is displayed regardless whether you have the money for the
upgrade or not.</li>


</ol>


<p>2.) <span style="font-weight: bold;">Unit Mouseover Changes</span></p>


<p>When you move the mouse over any unit button in the plot list,
an info pane is displayed on the left side of the screen. This Info
pane has been been modified in the following places :&nbsp;</p>


<ol style="list-style-type: upper-alpha;">


  <li><span style="font-weight: bold;">Remaining
Movement Points</span><br>


The remaining movement points of the unit are displayed as a floating
value with 1 decimal</li>


  <li><span style="font-weight: bold;">Strength +
Turns-To-Heal</span><br>


The current unit strength is displayed as a floating value with 1
decimal. In case the unit is wounded a third value is displayed in
brackets. This number indicates the number of rounds the units need to
heal completely under the current circumstances. This circumstances
takes consideration of city building (like hospital), the unit's
promotion (Medic, or any other promotion with self heal abilities) the
promotions of units on the same or adjacent tiles, the territory the
unit is on.</li>


  <li><span style="font-weight: bold;">Special
Abilities</span><br>


The special abilities a unit gains due to a promotion are displayed in a
different color than the specials it gains due to its unit type. The
color can be modified in the ini file, the default color is light
gray.&nbsp;</li>


  <li><span style="font-weight: bold;">Experience</span><br>


The unit's experience points are displayed in the following format :
&lt;curr-exp&gt;/&lt;needed-exp&gt;. Where
&lt;curr-exp&gt; is the units current experience points and
&lt;needed-exp&gt; is the units needed experience points to get
the next higher level. Both values are only displayed if the unit has
an experience value &gt; 0.&nbsp;</li>


  <li><span style="font-weight: bold;">Level</span><br>


The unit's level is displayed in the following format. :
&lt;curr-lev&gt;/&lt;possible-lev&gt;. Where
&lt;curr-lev&gt; is the unit's actual level and
&lt;possible-lev&gt; is the level the unit could have due to
its experience points. In other words : the first value shows the
number of promotions the unit already has, the second value shows the
number of promotion the unit could have. Both values are displayed, as
soon as one of the values is &gt; 0.&nbsp;</li>


</ol>


<p>Because this info pane has to be reprogrammed completely new,
the layout differs slightly from the built-in one. There may also be some
differences in the information I haven't documented here. If so,
please contact me. &nbsp;</p>


<p>3.) <span style="font-weight: bold;">Plot List Selection&nbsp;</span></p>


<p>The selection in the plot list has also been improved by
eliminating some bugs of the Civ4 standard version : &nbsp;</p>


<ol style="list-style-type: upper-alpha;">


  <li>Civ4 bug : when selecting a unit on the very right the plot
list is rebuilt so that the selected unit is at position 10 in the plot
list - <span style="font-weight: bold;">fixed&nbsp;</span></li>


  <li>Civ4 bug : under some special circumstances the scroll
arrows did disappear - <span style="font-weight: bold;">fixed</span>&nbsp;</li>


  <li>Civ4 bug : when selecting a unit with Alt-key pressed, all
units should be selected. Because it is not possible to put units with
different domain type into one group, always the first domain in the
plot list is selected - <span style="font-weight: bold;">fixed</span>
- &nbsp;All units with the same domain type as the selected unit
will be put together into a group.</li>


</ol>


<p>The rest of the selection method is pretty much the same as
before : &nbsp;</p>


<ul>
  <li>Shift : to add single units or their groups to the selected
group</li>
  <li>Ctrl : to select all units of the same type</li>
  <li>Alt : to select all units of the same domain type.&nbsp;</li>
</ul>






<p>*Remark made (see Appendix A, (i))</p>
<p>4.) <span style="font-weight: bold;">Plot list display modes</span>&nbsp;</p>


<p>To improve the display of a large amount of units on one plot,
I added some display modes. &nbsp; These are now in cyclic format, so
that it switches to a different view each time you click in this
order:&nbsp;</p>


<ol style="list-style-type: upper-alpha;">


  <li><span style="font-weight: bold;">Standard mode</span><br>


The units are displayed in one vertical line with scroll buttons on the
right side. As already mentioned in chapter 3., the bothering bugs with the display have been eliminated.</li>


  <li><span style="font-weight: bold;">Multiline mode<br>

    </span>All units are
displayed in several line<span style="font-weight: bold;">s,</span> so that there is no scrolling
needed. The display starts in the lower left corner. Using this view,
no scroll buttons are needed, except you have so much units on one
plot, that the screen height is not enough to display them in multi
line view. In this case, vertical scroll buttons (up and down arrow)
are displayed.&nbsp;</li>

  <li><span style="font-weight: bold;">Vertical stacks</span><br>

Dependent on the grouping mode (see chapter 6.) some units are
displayed in vertical stacks. You can scroll left an right with the
scroll buttons. In the unit type grouping mode, units of the same type
are displayed in a vertical stack, in the selection group grouping mode
selection groups are displayed in a vertical stack.</li>

  <li><span style="font-weight: bold;">Horizontal stacks<br>

    </span>Pretty much the same as the vertical stacks with the only
difference, that the stacks are horizontal oriented. You may now ask
what that is for. Two reasons. First: because of the different screen
ratios this option may be better than the vertical stacks (you have
smaller stacks, but more lines). Second : it was fun to do it
;)&nbsp;</li>


</ol>









<p>5.) <span style="font-weight: bold;">Unit Filters</span></p>



<p>There are several unit filters added. You find them next to
the display mode buttons. The following filters have been implemented
(the button in brackets) :&nbsp;</p>


<ol style="list-style-type: lower-alpha;">
  <li>Units that can move (white foot)</li>
  <li>Units that cannot move (red foot)</li>
  <li>Wounded units (red cross)</li>
  <li>Healthy units (green cross)</li>
  <li>Domain filter air units (plane)</li>
  <li>Domain filter sea units (ship)</li>
  <li>Domain filter land units (tank)</li>
  <li>Combat units (crossed swords)&nbsp;</li>
  <li>Domestic units (peace symbol)&nbsp;</li>
  <li>Player units (green flag)&nbsp;</li>
  <li>Foreign units (red flag)&nbsp;</li>
</ol>




















<p>An active filter is displayed with a yellow ring. By default all
filters are inactive. &nbsp;To turn off all filters, press the red
"null" button between the upgrade grouping button and the movement
filter buttons.&nbsp;</p>




<p>6.)<span style="font-weight: bold;"> Plot list grouping modes&nbsp;</span></p>








<p>There are two grouping modes implemented. The grouping modes
have influence in the order the units are displayed. If a stack display
mode (vertical or horizontal) is selected it also have an influence on what is displayed in a stack:&nbsp;<br>
</p>
<ol style="list-style-type: lower-alpha;">
  <li><span style="font-weight: bold;">Unit type grouping</span> (overlapping squares)<br>
Default grouping mode. &nbsp;When the display mode is a stack mode, then units of the same type are
put into one stack. &nbsp;For more details, see Appendix (i).</li>
  <li><span style="font-weight: bold;">Selection group grouping</span> (square and triangle)<br>
Click on the "overlapping squares" button to toggle between the two
modes. &nbsp;In this mode,&nbsp;units which are in the same selection
group are displayed together. Also the selection groups are displayed
right most within their domain. When the display mode is a stack mode,
then units within the same selection group are put into one stack.
&nbsp;For more details, see Appendix (ii)</li>
</ol>
7.) <span style="font-weight: bold;">Plot list upgrade view&nbsp;</span>



<p>The upgrade view (button with the up-arrow) can be used to
get a clear overview about the units which can be upgraded. It also
provides a simple method to upgrade a bunch of units without selecting
each unit first. &nbsp;</p>


<p>When you press the button only units which can be upgraded are
displayed. If you also have a stack view active, above each unit its possible upgrades are displayed.
The upgrade buttons are disable (displayed, but you can't push them)
you don't have enough money to perform the upgrade.&nbsp;</p>


<p>By pressing one of those upgrade buttons, the unit
is upgraded to that type. Usually that results in that the unit
disappearing from the view, because in most cases only one upgrade is
possible. If you press the Ctrl-key when pressing an upgrade button all
units on that plot are upgraded, when pressing the Alt-key all of the player's
units are upgraded. If you run out of money during those multi
upgrades, it simply stops doing it (as in normal Civ4). </p>


<p>By moving the mouse over an upgrade button, a special info
pane is displayed on the left side of the screen. It provides you with
the unit type related info of the upgrade and with three values in
brackets, separated by a slash. The three values have the following
meaning:&nbsp;</p>


<ul>
  <li>Costs to upgrade one unit</li>
  <li>Costs to upgrade all units on the plot</li>
  <li>Costs to upgrade all of the player's units&nbsp;</li>
</ul>






<p>If one of the values exceeds your current budget, it is
displayed in red, otherwise in green. The colors can be modified in the
ini-file. Of course, those multi-upgrade only upgrades the units of
the same unit type.</p>


<p>8.) <span style="font-weight: bold;">Plot list promotion view&nbsp;</span></p>




<p>This view (button with the "star" on it) is very similar to
the upgrade view. It displays only units which can be promoted. If a
stack view is active, above each unit its possible promotions are
displayed. By pressing such a promotion button, the promotion is
performed and the display is refreshed. This could result in that the
unit disappears from list because there are no more promotions
possible, or that new promotions are displayed if the experience points
of the units does allow that.&nbsp;</p>


<p>You can use the "level" in the unit info pane to check how
much promotions are possible. (see chapter 2.)&nbsp;</p>


<p>9.) <span style="font-weight: bold;">Move highlighter&nbsp;</span></p>




<p>When you hold down the alt-key, hover the mouse over a plot
list button, the plots the unit can reach with its remaining movement
points are highlighted.</p>




<p>10.) <span style="font-weight: bold;">Configuration&nbsp;</span></p>




<p>The PLE mod can be configured either by manually editing the BUG
Mod.ini file or by using the in-game BUG Options screen. &nbsp;Many
options can be changed, switched off or modified. &nbsp;</p>


<p class="style8">Credits</p>


<p>Forum: <a href="http://forums.civfanatics.com/showthread.php?t=149572">http://forums.civfanatics.com/showthread.php?t=149572</a></p>


<p>Author: <font color="#0000ff"><font size="3"><i><b>12Monkeys
</b></i></font></font></p>


<p class="style8">&nbsp;</p>


<p class="style8">Author's Credits and Thanks</p>


<p>The Great Apple, Belizan :<br>


- for the initial idea and motivation of the implemented Move Highlighter<br>


<br>


Dr. Elmer Jiggle : <br>


- for the used INI Parser (modders : use it!)<br>


<br>


Firaxis and the Civ4-Team :<br>


- making this game so moddable. Although I haven't played it since
months, I still have a lot of fun to mod it. I never had so much fun
with a game over such a long time. <br>


<br>


Civ4 community at CivFanatics, especially in the C&amp;C subforum :<br>


- for all the inspiration, help and ideas.</p>
<p class="style8">Appendix</p>
<ol style="list-style-type: upper-alpha;">
  <li></li>
  <ol style="list-style-type: lower-roman;">
    <li>
      <p>The main problem of the complete mod was to modify the unit
selection in the plot list. The existing API function
CyInterface.selectUnit() and CyInterface.selectGroup() are quite a
mess. You have no chance to create a selection group without the
function CyInterface.selectGroup(). The problem with that is, that this
function doesn't have a any parameter for a unit. It directly checks
the existing units on the plot and takes it decisions, so that you
don't have any influence to it. Because I want that the selection
groups doesn't select any unit which is not displayed due to one of the
display filter, I had to make several crazy program climbs (you can
watch them in the selectGroup() function in the PLEMainInterface.py).
Main method to avoid those things is to temporarily move away (with
CyUnit.setXY()) those units I don't want to be added to the group,
create the group with CyInterface.selectGroup() and then move back
those "parked" units. &nbsp;</p>


      <p>Due to that changes it might be possible, that there are some
error in I haven't caught so far. Also, the behavior of the complete
selection functionality could be slightly different to that you know.
If you found any problems, just inform me, please.&nbsp;</p>
    </li>
  </ol>
  <li>&nbsp;</li>
  <ol style="list-style-type: lower-roman;">
    <li>The grouping is done by unit type. That means that the units
are sorted in the following order :&nbsp;

    </li>
  </ol>
</ol>
<ol start="2" style="list-style-type: lower-roman;">
  <ul>
    <ul>
      <li>Player: player units, then all other players in the
order of their player id.</li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li>Domain: sea, air, land</li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li>Combat strength (strongest
first)</li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li>Unit type: order by unit type id, descending</li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li>Unit level: descending</li>
    </ul>
  </ul>
  <ul>
    <ul>
      <li>Unit experience: descending</li>
    </ul>
    <ul>
      <li>Unit ID: ascending - this is just added to get a
reproducible sorting in case anything else isn't unique<br>
      </li>
    </ul>
  </ul>
</ol>
ATTENTION :&nbsp;<br>
There is one exception for the sorting: cargoed units. As
soon as a unit is cargo of another unit, the cargo unit is always
displayed BEHIND its transporting unit. Within the cargo units, the
sorting is as mentioned above. This is as in Civ4 standard, but has
some effects to the stacked views modes: cargo units are displayed
together with their transport unit in the same stack, where the cargo
units are on top off their transport unit.&nbsp;
<ol start="2" style="list-style-type: lower-roman;">
  <ol start="2" style="list-style-type: lower-roman;">
    <li>The above grouping is slightly changed :&nbsp;

    </li>
  </ol>
  <ul>
    <ul>
      <li>Player: player units first, then all other players
in the order of their player id</li>
    </ul>
    <ul>
      <li>Domain: sea, air, land</li>
    </ul>
    <ul>
      <li>Selection group: ascending order by their internal group
id.&nbsp;</li>
    </ul>
    <ul>
      <li>Combat strength: (strongest
first)</li>
    </ul>
    <ul>
      <li>Unit type: by unit type id, descending</li>
    </ul>
    <ul>
      <li>Unit level: descending.&nbsp;</li>
    </ul>
    <ul>
      <li>Unit experience: descending</li>
    </ul>
    <ul>
      <li>Unit ID: ascending. This is just added to get a
reproducible sorting in case anything else isn't unique.&nbsp;</li>
    </ul>
  </ul>
</ol>


















<p>Again, cargo units are displayed together with their transport
units. This view is ideal to create complex selection groups.&nbsp;</p>




<p>Tip : try the "Group" grouping and create selection group by
selecting single units holding the shift key down. Looks funny
;)&nbsp;</p>


</body>
</html>
